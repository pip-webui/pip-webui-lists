!function(){"use strict";angular.module("pipLists",["pipFocused","pipSelected","pipInfiniteScroll","pipTagList"])}(),function(e){try{e=angular.module("pipLists.Templates")}catch(t){e=angular.module("pipLists.Templates",[])}e.run(["$templateCache",function(e){e.put("tag_list/tag_list.html",'<div class="pip-chip rm4 pip-type-chip pip-type-chip-left {{\'bg-\' + pipType + \'-chips\'}}" ng-if="pipType && !pipTypeLocal"><span>{{pipType.toUpperCase() | translate | uppercase}}</span></div><div class="pip-chip rm4 pip-type-chip pip-type-chip-left {{\'bg-\' + pipType + \'-chips\'}}" ng-if="pipType && pipTypeLocal"><span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span></div><div class="pip-chip rm4" ng-repeat="tag in pipTags"><span>{{::tag}}</span></div>')}])}(),function(){"use strict";var e=angular.module("pipList.Translate",[]);e.filter("translate",["$injector",function(e){var t=e.has("pipTranslate")?e.get("pipTranslate"):null;return function(e){return t?t.translate(e)||e:e}}])}(),function(){"use strict";var e=angular.module("pipInfiniteScroll",[]);e.directive("pipInfiniteScroll",["$rootScope","$window","$interval","$parse",function(e,t,n,i){var p=500;return{scope:{pipInfiniteScroll:"&",pipScrollContainer:"=",pipScrollDistance:"=",pipScrollDisabled:"=",pipScrollUseDocumentBottom:"=",pipScrollListenForEvent:"@"},link:function(i,l,o){function r(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function a(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+c(e)}function c(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function s(e){return E=parseFloat(e)||0}function u(e){if(S=!e,S&&v)return v=!1,D()}function d(e){return T=e}function f(e){if(null!=g&&g.unbind("scroll",D),g=e,null!=e)return g.bind("scroll",D)}function m(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=l.parents().find(e)),null!=e&&(!Array.isArray(e)||Array.isArray(e)&&e.length>0))return f(e);throw new Error("Invalid pip-scroll-container attribute.")}}var g,v=null,h=!0,E=null,S=null,C=null,T=!1,$=angular.element(t),D=function(){var t,n,p,o,s;return g===$?(t=r(g)+c(g[0].document.documentElement),p=a(l)+r(l)):(t=r(g),n=0,void 0!==a(g)&&(n=a(g)),p=a(l)-n+r(l)),T&&(p=r((l[0].ownerDocument||l[0].document).documentElement)),o=p-t,s=o<=r(g)*E+1,s?(v=!0,S?i.$$phase||e.$$phase?i.pipInfiniteScroll():i.$apply(i.pipInfiniteScroll):void 0):v=!1};return null!=p&&(D=_.throttle(D,p)),i.$on("$destroy",function(){if(g.unbind("scroll",D),null!=C)return C(),C=null}),i.$watch("pipScrollDistance",s),s(i.pipScrollDistance),i.$watch("pipScrollDisabled",u),u(i.pipScrollDisabled),i.$watch("pipScrollUseDocumentBottom",d),d(i.pipScrollUseDocumentBottom),f($),i.pipScrollListenForEvent&&(C=e.$on(i.pipScrollListenForEvent,D)),i.$watch("pipScrollContainer",function(e){e!==g&&m(e)}),m(i.pipScrollContainer||[]),null!=o.pipScrollParent&&f(angular.element(l.parent())),null!=o.pipScrolImmediateCheck&&(h=i.$eval(o.pipScrolImmediateCheck)),n(function(){if(h)return D()},0,1)}}}])}(),function(){"use strict";var e=angular.module("pipFocused",[]);e.directive("pipFocused",["$timeout","$mdConstant",function(e,t){return{require:"?ngModel",link:function(n,i,p){function l(){var e=c?".pip-focusable":".pip-focusable:visible";r=i.find(e),a=r.length,r.on("focus",function(){i.addClass("pip-focused-container"),$(this).addClass("md-focused")}).on("focusout",function(){i.removeClass("pip-focused-container")})}function o(e){var n=e.which||e.keyCode;if(n==t.KEY_CODE.LEFT_ARROW||n==t.KEY_CODE.UP_ARROW||n==t.KEY_CODE.RIGHT_ARROW||n==t.KEY_CODE.DOWN_ARROW){e.preventDefault();var i=n==t.KEY_CODE.RIGHT_ARROW||n==t.KEY_CODE.DOWN_ARROW?1:-1,p=r.index(r.filter(".md-focused"))+i;p>=0&&p<a&&r[p].focus()}}var r,a,c=p.pipWithHidden;e(l),i.on("keydown",o),n.$watch(p.ngModel,function(){e(l)},!0)}}}])}(),function(){"use strict";var e=angular.module("pipSelected",[]);e.directive("pipSelected",["$parse","$mdConstant","$timeout",function(e,t,n){return{restrict:"A",scope:!1,link:function(n,i,p){function l(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function o(e){var t=e.itemIndex,n=e.itemId,p=e.items||i.find(h+v),l=p.length,o=function(){return e.item?e.item:(void 0===t&&t===-1&&(t=p.index(p.filter("[pip-id="+n+"]"))),t>=0&&t<l?p[t]:void 0)}(),c=e.raiseEvent;o&&(i.find(h).removeClass("selected md-focused"),o=angular.element(o).addClass("selected md-focused").focus(),g||a(o),c&&r(p))}function r(e){function t(){var t=angular.element(e[E]),l=t.attr("pip-id");s&&s(n,E),d&&d(n,l),f&&f(n,{$event:{target:i,item:t,index:E,id:l,newIndex:E,oldIndex:p}})}var p=E;E=-1;for(var l=0;l<e.length;l++)if($(e[l]).hasClass("selected")){E=l;break}p!=E&&E!==-1&&n.$apply(t)}function a(e){if(!g){var t=i.offset().top,n=i.height(),p=t+n,l=e.offset().top,o=e.outerHeight(!0),r=l+o,a=i.scrollTop();t>l?i.scrollTop(a+l-t):p<r&&i.scrollTop(a+r-p)}}var c=p.pipSelected?e(p.pipSelected):null,s=c?c.assign:null,u=p.pipSelectedId?e(p.pipSelectedId):null,d=u?u.assign:null,f=p.pipSelect?e(p.pipSelect):null,m=p.pipEnterSpacePress?e(p.pipEnterSpacePress):null,g=l(p.pipNoScroll),v=l(p.pipSkipHidden)?":visible":"",h=l(p.pipTreeList)?".pip-selectable-tree":".pip-selectable",E=c(n),S=i.attr("tabindex"),C=p.pipSelectedWatch;i.attr("tabindex",S||0),l(p.pipTreeList)?n.$watch(u,function(e){setTimeout(function(){o({itemId:e,raiseEvent:!0})},0)}):n.$watch(c,function(e){o({itemIndex:e})}),C&&n.$watch(C,function(){setTimeout(function(){E=c(n),o({itemIndex:E})},100)}),o({itemIndex:E,items:i.find(h)}),i.on("click touchstart",h,function(e){o({item:e.currentTarget,raiseEvent:!0})}),i.on("keydown",function(e){var p=e.which||e.keyCode;if(p==t.KEY_CODE.ENTER||p==t.KEY_CODE.SPACE)e.preventDefault(),e.stopPropagation(),m&&m(n,{$event:{target:i,index:E,item:i.find(".selected")}});else if(p==t.KEY_CODE.LEFT_ARROW||p==t.KEY_CODE.RIGHT_ARROW||p==t.KEY_CODE.UP_ARROW||p==t.KEY_CODE.DOWN_ARROW){e.preventDefault(),e.stopPropagation();var l=i.find(h+v),r=p==t.KEY_CODE.RIGHT_ARROW||p==t.KEY_CODE.DOWN_ARROW?1:-1,a=E+r;o({itemIndex:a,items:l,raiseEvent:!0})}}),i.on("focusin",function(e){var t,p=i.find(h+".selected");p.addClass("md-focused"),0===p.length&&(E=c(n),t=i.find(h+v),o({itemIndex:E||0,items:t,raiseEvent:!0}))}),i.on("focusout",function(e){i.find(h+".md-focused"+v).removeClass("md-focused")})}}}])}(),function(e){"use strict";var t=e.module("pipTagList",["pipList.Translate"]);t.directive("pipTagList",["$parse",function(e){return{restrict:"EA",scope:{pipTags:"=",pipType:"=",pipTypeLocal:"="},templateUrl:"tag_list/tag_list.html",controller:["$scope","$element","$attrs",function(t,n,i){function p(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}var l;l=e(i.pipTags),n.css("display","block"),t.tags=l(t),p(i.pipRebind)&&t.$watch(l,function(){t.tags=l(t)}),n.addClass("pip-tag-list")}]}}])}(window.angular);