!function(){"use strict";angular.module("pipLists",["pipFocused","pipSelected","pipInfiniteScroll","pipTagList"])}(),function(){"use strict";var e=angular.module("pipFocused",[]);e.directive("pipFocused",["$timeout","$mdConstant",function(e,t){return{require:"?ngModel",link:function(n,i,o){function l(){var e=u?".pip-focusable":".pip-focusable:visible";c=i.find(e),p=c.length,c.on("focus",function(){i.addClass("pip-focused-container"),$(this).addClass("md-focused")}).on("focusout",function(){i.removeClass("pip-focused-container")})}function r(e){var n=e.which||e.keyCode;if(n==t.KEY_CODE.LEFT_ARROW||n==t.KEY_CODE.UP_ARROW||n==t.KEY_CODE.RIGHT_ARROW||n==t.KEY_CODE.DOWN_ARROW){e.preventDefault();var i=n==t.KEY_CODE.RIGHT_ARROW||n==t.KEY_CODE.DOWN_ARROW?1:-1,o=c.index(c.filter(".md-focused"))+i;o>=0&&o<p&&c[o].focus()}}var c,p,u=o.pipWithHidden;e(l),i.on("keydown",r),n.$watch(o.ngModel,function(){e(l)},!0)}}}])}(),function(){"use strict";var e=angular.module("pipInfiniteScroll",[]);e.directive("pipInfiniteScroll",["$rootScope","$window","$interval","$parse",function(e,t,n,i){var o=500;return{scope:{pipInfiniteScroll:"&",pipScrollContainer:"=",pipScrollDistance:"=",pipScrollDisabled:"=",pipScrollUseDocumentBottom:"=",pipScrollListenForEvent:"@"},link:function(i,l,r){function c(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function p(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+u(e)}function u(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function a(e){return S=parseFloat(e)||0}function s(e){if(h=!e,h&&v)return v=!1,O()}function d(e){return $=e}function f(e){if(null!=g&&g.unbind("scroll",O),g=e,null!=e)return g.bind("scroll",O)}function m(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=l.parents().find(e)),null!=e&&(!Array.isArray(e)||Array.isArray(e)&&e.length>0))return f(e);throw new Error("Invalid pip-scroll-container attribute.")}}var g,v=null,E=!0,S=null,h=null,C=null,$=!1,D=angular.element(t),O=function(){var t,n,o,r,a;return g===D?(t=c(g)+u(g[0].document.documentElement),o=p(l)+c(l)):(t=c(g),n=0,void 0!==p(g)&&(n=p(g)),o=p(l)-n+c(l)),$&&(o=c((l[0].ownerDocument||l[0].document).documentElement)),r=o-t,a=r<=c(g)*S+1,a?(v=!0,h?i.$$phase||e.$$phase?i.pipInfiniteScroll():i.$apply(i.pipInfiniteScroll):void 0):v=!1};return null!=o&&(O=_.throttle(O,o)),i.$on("$destroy",function(){if(g.unbind("scroll",O),null!=C)return C(),C=null}),i.$watch("pipScrollDistance",a),a(i.pipScrollDistance),i.$watch("pipScrollDisabled",s),s(i.pipScrollDisabled),i.$watch("pipScrollUseDocumentBottom",d),d(i.pipScrollUseDocumentBottom),f(D),i.pipScrollListenForEvent&&(C=e.$on(i.pipScrollListenForEvent,O)),i.$watch("pipScrollContainer",function(e){e!==g&&m(e)}),m(i.pipScrollContainer||[]),null!=r.pipScrollParent&&f(angular.element(l.parent())),null!=r.pipScrolImmediateCheck&&(E=i.$eval(r.pipScrolImmediateCheck)),n(function(){if(E)return O()},0,1)}}}])}(),function(){"use strict";var e=angular.module("pipSelected",[]);e.directive("pipSelected",["$parse","$mdConstant","$timeout",function(e,t,n){return{restrict:"A",scope:!1,link:function(n,i,o){function l(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function r(e){var t=e.itemIndex,n=e.itemId,o=e.items||i.find(E+v),l=o.length,r=function(){return e.item?e.item:(void 0===t&&t===-1&&(t=o.index(o.filter("[pip-id="+n+"]"))),t>=0&&t<l?o[t]:void 0)}(),u=e.raiseEvent;r&&(i.find(E).removeClass("selected md-focused"),r=angular.element(r).addClass("selected md-focused").focus(),g||p(r),u&&c(o))}function c(e){function t(){var t=angular.element(e[S]),l=t.attr("pip-id");a&&a(n,S),d&&d(n,l),f&&f(n,{$event:{target:i,item:t,index:S,id:l,newIndex:S,oldIndex:o}})}var o=S;S=-1;for(var l=0;l<e.length;l++)if($(e[l]).hasClass("selected")){S=l;break}o!=S&&S!==-1&&n.$apply(t)}function p(e){if(!g){var t=i.offset().top,n=i.height(),o=t+n,l=e.offset().top,r=e.outerHeight(!0),c=l+r,p=i.scrollTop();t>l?i.scrollTop(p+l-t):o<c&&i.scrollTop(p+c-o)}}var u=o.pipSelected?e(o.pipSelected):null,a=u?u.assign:null,s=o.pipSelectedId?e(o.pipSelectedId):null,d=s?s.assign:null,f=o.pipSelect?e(o.pipSelect):null,m=o.pipEnterSpacePress?e(o.pipEnterSpacePress):null,g=l(o.pipNoScroll),v=l(o.pipSkipHidden)?":visible":"",E=l(o.pipTreeList)?".pip-selectable-tree":".pip-selectable",S=u(n),h=i.attr("tabindex"),C=o.pipSelectedWatch;i.attr("tabindex",h||0),l(o.pipTreeList)?n.$watch(s,function(e){setTimeout(function(){r({itemId:e,raiseEvent:!0})},0)}):n.$watch(u,function(e){r({itemIndex:e})}),C&&n.$watch(C,function(){setTimeout(function(){S=u(n),r({itemIndex:S})},100)}),r({itemIndex:S,items:i.find(E)}),i.on("click touchstart",E,function(e){r({item:e.currentTarget,raiseEvent:!0})}),i.on("keydown",function(e){var o=e.which||e.keyCode;if(o==t.KEY_CODE.ENTER||o==t.KEY_CODE.SPACE)e.preventDefault(),e.stopPropagation(),m&&m(n,{$event:{target:i,index:S,item:i.find(".selected")}});else if(o==t.KEY_CODE.LEFT_ARROW||o==t.KEY_CODE.RIGHT_ARROW||o==t.KEY_CODE.UP_ARROW||o==t.KEY_CODE.DOWN_ARROW){e.preventDefault(),e.stopPropagation();var l=i.find(E+v),c=o==t.KEY_CODE.RIGHT_ARROW||o==t.KEY_CODE.DOWN_ARROW?1:-1,p=S+c;r({itemIndex:p,items:l,raiseEvent:!0})}}),i.on("focusin",function(e){var t,o=i.find(E+".selected");o.addClass("md-focused"),0===o.length&&(S=u(n),t=i.find(E+v),r({itemIndex:S||0,items:t,raiseEvent:!0}))}),i.on("focusout",function(e){i.find(E+".md-focused"+v).removeClass("md-focused")})}}}])}(),function(e){"use strict";var t=e.module("pipTagList",[]);t.directive("pipTagList",["$parse",function(e){return{restrict:"EA",scope:{pipTags:"=",pipType:"=",pipTypeLocal:"="},templateUrl:"tags/tag_list.html",controller:["$scope","$element","$attrs",function(t,n,i){function o(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}var l;l=e(i.pipTags),n.css("display","block"),t.tags=l(t),o(i.pipRebind)&&t.$watch(l,function(){t.tags=l(t)}),n.addClass("pip-tag-list")}]}}])}(window.angular);