!function(){"use strict";angular.module("pipLists",["pipFocused","pipSelected","pipInfiniteScroll","pipTagList"])}(),function(){"use strict";var e=angular.module("pipFocused",[]);e.directive("pipFocused",["$timeout","$mdConstant",function(e,t){return{require:"?ngModel",link:function(n,i,o){function l(){var e=a?".pip-focusable":".pip-focusable:visible";c=i.find(e),p=c.length,c.on("focus",function(){i.addClass("pip-focused-container"),$(this).addClass("md-focused")}).on("focusout",function(){i.removeClass("pip-focused-container")})}function r(e){var n=e.which||e.keyCode;if(n==t.KEY_CODE.LEFT_ARROW||n==t.KEY_CODE.UP_ARROW||n==t.KEY_CODE.RIGHT_ARROW||n==t.KEY_CODE.DOWN_ARROW){e.preventDefault();var i=n==t.KEY_CODE.RIGHT_ARROW||n==t.KEY_CODE.DOWN_ARROW?1:-1,o=c.index(c.filter(".md-focused"))+i;o>=0&&o<p&&c[o].focus()}}var c,p,a=o.pipWithHidden;e(l),i.on("keydown",r),n.$watch(o.ngModel,function(){e(l)},!0)}}}])}(),function(){"use strict";var e=angular.module("pipInfiniteScroll",[]);e.directive("pipInfiniteScroll",["$rootScope","$window","$interval","$parse",function(e,t,n,i){var o=500;return{scope:{pipInfiniteScroll:"&",pipScrollContainer:"=",pipScrollDistance:"=",pipScrollDisabled:"=",pipScrollUseDocumentBottom:"=",pipScrollListenForEvent:"@"},link:function(i,l,r){function c(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function p(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+a(e)}function a(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function u(e){return S=parseFloat(e)||0}function s(e){if(h=!e,h&&v)return v=!1,O()}function d(e){return $=e}function f(e){if(null!=g&&g.unbind("scroll",O),g=e,null!=e)return g.bind("scroll",O)}function m(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=l.parents().find(e)),null!=e&&(!Array.isArray(e)||Array.isArray(e)&&e.length>0))return f(e);throw new Error("Invalid pip-scroll-container attribute.")}}var g,v=null,E=!0,S=null,h=null,C=null,$=!1,D=angular.element(t),O=function(){var t,n,o,r,u;return g===D?(t=c(g)+a(g[0].document.documentElement),o=p(l)+c(l)):(t=c(g),n=0,void 0!==p(g)&&(n=p(g)),o=p(l)-n+c(l)),$&&(o=c((l[0].ownerDocument||l[0].document).documentElement)),r=o-t,u=r<=c(g)*S+1,u?(v=!0,h?i.$$phase||e.$$phase?i.pipInfiniteScroll():i.$apply(i.pipInfiniteScroll):void 0):v=!1};return null!=o&&(O=_.throttle(O,o)),i.$on("$destroy",function(){if(g.unbind("scroll",O),null!=C)return C(),C=null}),i.$watch("pipScrollDistance",u),u(i.pipScrollDistance),i.$watch("pipScrollDisabled",s),s(i.pipScrollDisabled),i.$watch("pipScrollUseDocumentBottom",d),d(i.pipScrollUseDocumentBottom),f(D),i.pipScrollListenForEvent&&(C=e.$on(i.pipScrollListenForEvent,O)),i.$watch("pipScrollContainer",function(e){e!==g&&m(e)}),m(i.pipScrollContainer||[]),null!=r.pipScrollParent&&f(angular.element(l.parent())),null!=r.pipScrolImmediateCheck&&(E=i.$eval(r.pipScrolImmediateCheck)),n(function(){if(E)return O()},0,1)}}}])}(),function(){"use strict";var e=angular.module("pipSelected",["pipUtils"]);e.directive("pipSelected",["$parse","pipUtils","$mdConstant","$timeout",function(e,t,n,i){return{restrict:"A",scope:!1,link:function(i,o,l){function r(e){var t=e.itemIndex,n=e.itemId,i=e.items||o.find(E+v),l=i.length,r=function(){return e.item?e.item:(void 0===t&&t===-1&&(t=i.index(i.filter("[pip-id="+n+"]"))),t>=0&&t<l?i[t]:void 0)}(),a=e.raiseEvent;r&&(o.find(E).removeClass("selected md-focused"),r=angular.element(r).addClass("selected md-focused").focus(),g||p(r),a&&c(i))}function c(e){function t(){var t=angular.element(e[S]),l=t.attr("pip-id");u&&u(i,S),d&&d(i,l),f&&f(i,{$event:{target:o,item:t,index:S,id:l,newIndex:S,oldIndex:n}})}var n=S;S=-1;for(var l=0;l<e.length;l++)if($(e[l]).hasClass("selected")){S=l;break}n!=S&&S!==-1&&i.$apply(t)}function p(e){if(!g){var t=o.offset().top,n=o.height(),i=t+n,l=e.offset().top,r=e.outerHeight(!0),c=l+r,p=o.scrollTop();t>l?o.scrollTop(p+l-t):i<c&&o.scrollTop(p+c-i)}}var a=l.pipSelected?e(l.pipSelected):null,u=a?a.assign:null,s=l.pipSelectedId?e(l.pipSelectedId):null,d=s?s.assign:null,f=l.pipSelect?e(l.pipSelect):null,m=l.pipEnterSpacePress?e(l.pipEnterSpacePress):null,g=t.toBoolean(l.pipNoScroll),v=t.toBoolean(l.pipSkipHidden)?":visible":"",E=t.toBoolean(l.pipTreeList)?".pip-selectable-tree":".pip-selectable",S=a(i),h=o.attr("tabindex"),C=l.pipSelectedWatch;o.attr("tabindex",h||0),t.toBoolean(l.pipTreeList)?i.$watch(s,function(e){setTimeout(function(){r({itemId:e,raiseEvent:!0})},0)}):i.$watch(a,function(e){r({itemIndex:e})}),C&&i.$watch(C,function(){setTimeout(function(){S=a(i),r({itemIndex:S})},100)}),r({itemIndex:S,items:o.find(E)}),o.on("click touchstart",E,function(e){r({item:e.currentTarget,raiseEvent:!0})}),o.on("keydown",function(e){var t=e.which||e.keyCode;if(t==n.KEY_CODE.ENTER||t==n.KEY_CODE.SPACE)e.preventDefault(),e.stopPropagation(),m&&m(i,{$event:{target:o,index:S,item:o.find(".selected")}});else if(t==n.KEY_CODE.LEFT_ARROW||t==n.KEY_CODE.RIGHT_ARROW||t==n.KEY_CODE.UP_ARROW||t==n.KEY_CODE.DOWN_ARROW){e.preventDefault(),e.stopPropagation();var l=o.find(E+v),c=t==n.KEY_CODE.RIGHT_ARROW||t==n.KEY_CODE.DOWN_ARROW?1:-1,p=S+c;r({itemIndex:p,items:l,raiseEvent:!0})}}),o.on("focusin",function(e){var t,n=o.find(E+".selected");n.addClass("md-focused"),0===n.length&&(S=a(i),t=o.find(E+v),r({itemIndex:S||0,items:t,raiseEvent:!0}))}),o.on("focusout",function(e){o.find(E+".md-focused"+v).removeClass("md-focused")})}}}])}(),function(e){"use strict";var t=e.module("pipTagList",[]);t.directive("pipTagList",["$parse",function(e){return{restrict:"EA",scope:{pipTags:"=",pipType:"=",pipTypeLocal:"="},templateUrl:"tags/tag_list.html",controller:["$scope","$element","$attrs",function(t,n,i){function o(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}var l;l=e(i.pipTags),n.css("display","block"),t.tags=l(t),o(i.pipRebind)&&t.$watch(l,function(){t.tags=l(t)}),n.addClass("pip-tag-list")}]}}])}(window.angular);